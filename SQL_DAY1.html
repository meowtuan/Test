<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.14 (458265)"/><meta name="author" content="953726336@qq.com"/><meta name="created" content="2021-01-09 08:45:26 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2021-01-10 13:15:55 +0000"/><title>SQL_DAY 1</title></head><body><div><font style="font-size: 18px;"><span style="font-size: 18px; text-decoration: underline; background-color: rgb(255, 250, 165);-evernote-highlight:true;">Chapter1</span></font></div><div><img src="SQL_DAY%201.html.resources/screenshot_4.png" height="514" width="1130"/><br/></div><div>DBMS: relational, NoSQL(NoSQL system don’t understand SQL, own query language)</div><div>RDBMS: MySQL, SQL Server, Oracle</div><div><br/></div><div>SQL = <span style="color: rgb(255, 38, 0);">S</span>tructured <span style="color: rgb(255, 38, 0);">E</span>nglish <span style="color: rgb(255, 38, 0);">Que</span>ry <span style="color: rgb(255, 38, 0);">L</span>anguage</div><div><br/></div><div>course structure</div><div>retrieve, insert, update, delete</div><div>summarizing data, writing complex queries, built-in functions, views, stored procedures</div><div>triggers, events, transactions, concurrency</div><div>designing databases, indexing for high performance, securing databases</div><div><br/></div><div><font style="font-size: 18px;"><span style="font-size: 18px; text-decoration: underline; background-color: rgb(255, 250, 165);-evernote-highlight:true;">Chapter2</span></font></div><ol><li><div>SELECT</div></li></ol><div>SQL不区分大小写</div><div><br/></div><div>USE 选中db</div><div>需要”;”来结尾</div><div>句首放"— “可以不excute，注释</div><div><br/></div><ol start="2"><li><div>SELECT clause</div></li></ol><div>SELECT *</div><div>FROM customers</div><div>-- WHERE customer_id = 1</div><div>ORDER BY first_name</div><div><br/></div><div><span style="color: rgb(255, 38, 0);">注意用英文的标点符号</span></div><div><span style="caret-color: rgb(255, 38, 0); color: rgb(255, 38, 0);">注意顺序</span></div><div><br/></div><div>可以运算</div><div><img src="SQL_DAY%201.html.resources/screenshot.png" height="830" width="946"/><br/></div><div><br/></div><div>可以设置名字 AS dfz_ds</div><div><img src="SQL_DAY%201.html.resources/screenshot_7.png" height="918" width="852"/><br/></div><div><br/></div><div>可以起带空格的名字</div><div>AS ‘dsd dsd'</div><div><img src="SQL_DAY%201.html.resources/screenshot_2.png" height="902" width="870"/><br/></div><div><br/></div><div>更改数据，载入table，双击修改，apply，确认语句</div><div><br/></div><div>无重复项</div><div>SELECT <span style="color: rgb(255, 38, 0);">DISTINCT</span> state</div><div>FROM customers</div><div><br/></div><div>SELECT </div><div>    name,</div><div>    unit_price,</div><div>    unit_price * 1.1 AS 'new price'</div><div>FROM products</div><div><br/></div><ol start="3"><li><div>WHERE</div></li></ol><div>comparison operators: &gt;, &gt;=, &lt;, &lt;=, =, <span style="color: rgb(255, 38, 0);">!=, &lt;&gt;</span> not equal</div><div>string要用’'，大小写也没事</div><div>SELECT *</div><div>FROM customers</div><div>WHERE state &lt;&gt; 'va'</div><div><br/></div><div>或WHERE state != 'va'</div><div><br/></div><div><span style="color: rgb(255, 38, 0);">生日用  '1990-01-01'</span></div><div>有引号，-</div><div><br/></div><ol start="4"><li><div>AND, OR, NOT</div></li></ol><div><span style="color: rgb(255, 38, 0);">AND优先级高，先执行</span></div><div>1）WHERE birth_date &gt; '1990-01-01' OR points &gt; 1000 AND</div><div>                    state = 'va'</div><div><br/></div><div>2）但是加个括号能让代码更明确</div><div>WHERE birth_date &gt; '1990-01-01' OR </div><div>               (points &gt; 1000 AND state = ‘va’)</div><div><br/></div><div>求补集</div><div>WHERE <span style="color: rgb(255, 38, 0);">NOT (</span>birth_date &gt; '1990-01-01' OR points &gt; 1000<span style="color: rgb(255, 38, 0);">)</span></div><div><span style="color: rgb(255, 147, 0);">   全反过来  （出生在1990.1.1及前 并且 points&lt;=1000）</span></div><div><br/></div><ol start="5"><li><div>IN</div></li></ol><div>需要一个attribute的多个values</div><div>1）3个用or连接</div><div>WHERE state = 'VA' OR state = 'GA' OR state = ‘FL'</div><div>2）IN</div><div>WHERE <span style="color: rgb(255, 38, 0);">state IN ('VA', 'FL', 'GA’)</span></div><div><br/></div><div>如果要否定</div><div>WHERE <span style="color: rgb(255, 38, 0);">state NOT IN ('VA', 'FL', 'GA’)</span></div><div><br/></div><div>ex.</div><div>SELECT *</div><div>FROM products</div><div>WHERE quantity_in_stock IN (49, 38, 72)</div><div><br/></div><ol start="6"><li><div>BETWEEN</div></li></ol><div>选择某范围内的</div><div>1）WHERE points &gt;= 1000 AND points &lt;= 3000</div><div>2）WHERE <span style="color: rgb(255, 38, 0);">points BETWEEN 1000 AND 3000 </span></div><div><span style="color: rgb(255, 147, 0);">BETWEEN包括两头值</span></div><div><br/></div><div>ex. <span style="color: rgb(255, 38, 0);">日期是可以比大小的，注意引号，和日期格式（xxxx-xx-xx）</span></div><div>SELECT *</div><div>FROM customers</div><div>WHERE birth_date BETWEEN '1990-01-01' AND '2000-01-01’</div><div><br/></div><ol start="7"><li><div>LIKE</div></li></ol><div>b在开头，后面不知</div><div>WHERE last_name LIKE 'b%’</div><div>有b，前后都不知道</div><div>WHERE last_name LIKE '%b%’</div><div>以b结尾</div><div>WHERE last_name LIKE ‘%b’</div><div>y在结尾，一共6个字母</div><div>WHERE last_name LIKE ‘_____y’（其中’_'有5个）</div><div><span style="color: rgb(255, 38, 0);">%：0-∞个字符，_：1个字符</span></div><div><br/></div><div>ex. </div><div>WHERE phone NOT LIKE '%9’</div><div><br/></div><div>WHERE NOT </div><div>    (address LIKE '%trail%' OR </div><div>    address LIKE '%avenue%')</div><div><br/></div><ol start="8"><li><div>REGEXP</div></li></ol><div>regular expression</div><div>a. 带field的</div><div>WHERE last_name REGEXP 'field'</div><div>b.<span style="color: rgb(255, 38, 0);"> ^：开头，$：末尾</span></div><div>以field开头：WHERE last_name REGEXP ‘^field'</div><div>以field结尾：WHERE last_name REGEXP 'field$'</div><div>c. <span style="color: rgb(255, 38, 0);">|是或</span></div><div>带field/mac/rose的</div><div>WHERE last_name REGEXP 'field|mac|rose’</div><div><span style="color: rgb(255, 147, 0);">WHERE last_name REGEXP 'field$|mac|rose’</span></div><div>d.<span style="color: rgb(255, 38, 0);"> [不确定]加已知</span></div><div><span style="color: rgb(255, 147, 0);">WHERE last_name REGEXP '[gim]e</span><span style="caret-color: rgb(255, 147, 0); color: rgb(255, 147, 0);">’</span></div><div>e. 范围</div><div><span style="color: rgb(255, 147, 0);">WHERE last_name REGEXP '[a-h]e</span><span style="caret-color: rgb(255, 147, 0); color: rgb(255, 147, 0);">’</span></div><div><span style="color: rgb(255, 147, 0);">==</span></div><div><span style="color: rgb(255, 147, 0);">WHERE last_name REGEXP </span><span style="caret-color: rgb(255, 147, 0); color: rgb(255, 147, 0);">‘</span><span style="color: rgb(255, 147, 0);">[abcdefgh]e</span><span style="caret-color: rgb(255, 147, 0); color: rgb(255, 147, 0);">’</span></div><div><br/></div><div>ex. </div><div>WHERE first_name REGEXP 'elka|ambur'</div><div>WHERE last_name REGEXP 'ey$|on$'</div><div>WHERE last_name REGEXP '^my|se'</div><div>WHERE last_name REGEXP 'b[ru]'</div><div><br/></div><ol start="9"><li><div>IS NULL</div></li></ol><div>WHERE phone IS NULL</div><div>WHERE phone IS NOT NULL</div><div>可以用来看还未发货的订单</div><div><br/></div><ol start="10"><li><div>ORDER BY</div></li></ol><div>ORDER BY first_name </div><div>ORDER BY first_name DESC</div><div>descending降序</div><div>1)</div><div><img src="SQL_DAY%201.html.resources/screenshot_5.png" height="816" width="1192"/><br/></div><div><span style="color: rgb(255, 38, 0);">order by 1, 2</span></div><div><span style="color: rgb(255, 38, 0);">1/2指select后面项的顺序</span></div><div><span style="color: rgb(255, 38, 0);">不建议用，因为一旦select后的项改变，就会出现问题</span></div><div>2)SELECT first_name, last_name, points, 10 + points AS 'new points'</div><div>FROM customers</div><div>ORDER BY first_name, last_name</div><div><br/></div><div>ex.</div><div>SELECT *</div><div>FROM order_items</div><div>WHERE order_id = 2</div><div>ORDER BY <span style="color: rgb(255, 38, 0);">quantity * unit_price </span>DESC</div><div>不用非得是个attribute</div><div><br/></div><div><img src="SQL_DAY%201.html.resources/screenshot_6.png" height="608" width="918"/><br/></div><div><br/></div><ol start="11"><li><div>LIMIT clause</div></li></ol><div>SELECT *</div><div>FROM customers</div><div>LIMIT 3</div><div><br/></div><div><span style="color: rgb(255, 38, 0);">LIMIT 6, 3</span></div><div>offset：跳过这几个，显示后面的</div><div>跳过前6个，显示789</div><div>可以用于分页，每页3个，第三页：LIMIT 6, 3</div><div><br/></div><div>ex. </div><div>find the most loyal customers</div><div>SELECT *</div><div>FROM customers</div><div>ORDER BY points DESC</div><div>LIMIT 3</div><div><br/></div><div><span style="color: rgb(255, 38, 0);">顺序！SELECT -&gt; FROM -&gt; WHERE -&gt; ORDER BY -&gt; LIMIT</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>